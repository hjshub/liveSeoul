<!DOCTYPE html>
<html lang="ko">
  <head>
    @@include('../include/head.html')

    <title>광장24시 | 라이브 서울</title>

    @@include('../include/header_sub.html')
  </head>
  <body>
    @@include('../include/skipNav.html')

    <div id="layout">
      <!-- #gnb -->
      <header class="active" id="gnb">@@include('../include/gnb_sub.html')</header>
      <!-- // #gnb -->

      <!-- #contents -->
      <div class="wrap seoul24 list" id="contents">
        <h1 class="hidden-txt">광장24시 메인</h1>
        <section class="list_top">
          <header class="page-header">
            <div class="inner">
              <div class="location">
                <span>
                  <a href=""> <img src="../assets/images/icon-home-xs.png" alt="홈" /><em class="hidden-txt">홈으로 이동</em> </a>
                </span>
                <span><a href="">#서울</a></span>
                <span><a href="">광장24시</a></span>
              </div>

              <h2 class="no_st">
                <strong>광장24시</strong>
                <span class="signal"><em>LIVE COVERAGE</em></span>
              </h2>

              <nav class="tabStyle-nav col-3 red mob-tabMenu">
                <ul>
                  <li class="on">
                    <a href="#seoul-praza"><span>서울광장</span></a>
                  </li>
                  <li>
                    <a href="#gwang-hwa-moon"><span>광화문광장</span></a>
                  </li>
                  <li>
                    <a href="#chung-gye-chun"><span>청계천광장</span></a>
                  </li>
                </ul>
              </nav>
            </div>
          </header>
        </section>

        <!-- 광장24 -->
        <section>
          <div class="inner">
            <div class="box-item-wrapper clear">
              <div class="box-item l-box" id="seoul-praza">
                <h3 class="ft-md has-caption">
                  <span class="caption orange">생방송</span>
                  <strong>서울광장 24시간 생중계</strong>
                </h3>
                <div class="liveContents">
                  <iframe
                    src="https://www.youtube.com/embed/XsXV6XBV_qQ"
                    title="2022 서울도시농업국제컨퍼런스 : 녹색치유, 힐링도시농업"
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                    allowfullscreen
                  ></iframe>
                </div>
              </div>
              <div class="box-item l-box cl" id="gwang-hwa-moon">
                <h3 class="ft-md has-caption">
                  <span class="caption orange">생방송</span>
                  <strong>광화문광장 24시간 생중계</strong>
                </h3>
                <div id="vd-streaming01" class="liveContents vd-streaming"></div>
              </div>
              <div class="box-item r-box" id="chung-gye-chun">
                <h3 class="ft-md has-caption">
                  <span class="caption orange">생방송</span>
                  <strong>청계천 24시간 생중계</strong>
                </h3>
                <div id="vd-streaming02" class="liveContents vd-streaming"></div>
              </div>
              <div class="floating-layer">
                <div class="l-box">
                  <h3 class="ft-md has-caption">
                    <span class="caption red">서울광장</span>
                    <strong>행사안내</strong>
                  </h3>
                  <article class="event-info">
                    <h4>9월 7일 수요일 행사 안내</h4>
                    <dl>
                      <dt>
                        <b>잔디광장</b>
                      </dt>
                      <dd>
                        <em class="tag red">전시</em>
                        <span class="desc">I.SEOUL.U 홍보조형물 전시 [수리]</span><br />
                        <span class="time">사용시간 : 00:00~24:00</span>
                      </dd>
                    </dl>
                    <dl>
                      <dt>
                        <b>동편광장</b>
                      </dt>
                      <dd class="empty">등록된 행사가 없습니다.</dd>
                    </dl>
                    <dl>
                      <dt>
                        <b>서편광장</b>
                      </dt>
                      <dd class="empty">등록된 행사가 없습니다.</dd>
                    </dl>
                  </article>
                </div>
                <div class="r-box">
                  <h3 class="ft-md has-caption icon">
                    <span class="caption comm"><em class="hidden-txt">소통</em></span>
                    <strong>온라인소통</strong>
                  </h3>
                  <article class="schedule-info">
                    <h4>서울 안 다양한 광장의 소식</h4>
                    <dl>
                      <dt>
                        <a href="#">서울광장</a>
                      </dt>
                      <dd>
                        <span>
                          서울의 새로운 일정을<br />
                          확인해보세요.
                        </span>
                      </dd>
                    </dl>
                    <dl>
                      <dt>
                        <a href="#">광화문광장</a>
                      </dt>
                      <dd>
                        <span>
                          광화문의 새로운 일정을<br />
                          확인해보세요.
                        </span>
                      </dd>
                    </dl>
                    <dl>
                      <dt>
                        <a href="#">청계광장</a>
                      </dt>
                      <dd>
                        <span>
                          청계천의 새로운 일정을<br />
                          확인해보세요.
                        </span>
                      </dd>
                    </dl>
                  </article>
                </div>
              </div>
            </div>
          </div>
        </section>
      </div>
      <!-- // #contents -->

      <!-- #footer -->
      <footer id="footer">@@include('../include/footer_sub.html')</footer>
      <!-- // #footer -->
    </div>

    <script src="../tgplayer/conponentRoot.js"></script>
    <script src="../tgplayer/player_init.js"></script>

    <script>
      //Object
      var mvObj = new Object(),
        timeSet = new Array();
      mvObj.setVideoSrc = new Array();
      mvObj.sizeList = new Array();

      //모바일 확인
      var isMob = window.innerWidth <= 768 ? true : false;

      // video src 설정
      // m3u8 파일
      /********
       ** 영상 1
       ********/
      mvObj.setVideoSrc1 = new Array();
      mvObj.sizeList1 = new Array();

      // 영상 1 자동해상도
      mvObj.videoObj1_1 = new Object();
      mvObj.videoObj1_1.size = '1';
      mvObj.videoObj1_1.src = 'https://topiscctv.eseoul.go.kr/sd1/ch96.stream/playlist.m3u8';
      mvObj.videoObj1_1.type = 'video/mp4';

      mvObj.setVideoSrc1.push(mvObj.videoObj1_1);
      mvObj.sizeList1.push(1);

      // 1280 * 720
      mvObj.videoObj1_2 = new Object();
      mvObj.videoObj1_2.size = '720';
      mvObj.videoObj1_2.src = 'https://topiscctv.eseoul.go.kr/sd1/ch96.stream/playlist.m3u8';
      mvObj.videoObj1_2.type = 'video/mp4';

      mvObj.setVideoSrc1.push(mvObj.videoObj1_2);
      mvObj.sizeList1.push(720);

      // 484 * 272
      mvObj.videoObj1_3 = new Object();
      mvObj.videoObj1_3.size = '272';
      mvObj.videoObj1_3.src = 'https://topiscctv.eseoul.go.kr/sd1/ch96.stream/playlist.m3u8';
      mvObj.videoObj1_3.type = 'video/mp4';

      mvObj.setVideoSrc1.push(mvObj.videoObj1_3);
      mvObj.sizeList1.push(272);

      mvObj.setVideoSrc.push(mvObj.setVideoSrc1);
      mvObj.sizeList.push(mvObj.sizeList1);

      /********
       ** 영상 2
       ********/
      mvObj.setVideoSrc2 = new Array();
      mvObj.sizeList2 = new Array();

      // 영상 2 자동해상도
      mvObj.videoObj2_1 = new Object();
      mvObj.videoObj2_1.size = '1';
      mvObj.videoObj2_1.src = 'https://topiscctv.eseoul.go.kr/sd1/ch61.stream/playlist.m3u8';
      mvObj.videoObj2_1.type = 'video/mp4';

      mvObj.setVideoSrc2.push(mvObj.videoObj2_1);
      mvObj.sizeList2.push(1);

      // 1280 * 720
      mvObj.videoObj2_2 = new Object();
      mvObj.videoObj2_2.size = '720';
      mvObj.videoObj2_2.src = 'https://topiscctv.eseoul.go.kr/sd1/ch61.stream/playlist.m3u8';
      mvObj.videoObj2_2.type = 'video/mp4';

      mvObj.setVideoSrc2.push(mvObj.videoObj2_2);
      mvObj.sizeList2.push(720);

      // 484 * 272
      mvObj.videoObj2_3 = new Object();
      mvObj.videoObj2_3.size = '272';
      mvObj.videoObj2_3.src = 'https://topiscctv.eseoul.go.kr/sd1/ch61.stream/playlist.m3u8';
      mvObj.videoObj2_3.type = 'video/mp4';

      mvObj.setVideoSrc2.push(mvObj.videoObj2_3);
      mvObj.sizeList2.push(272);

      mvObj.setVideoSrc.push(mvObj.setVideoSrc2);
      mvObj.sizeList.push(mvObj.sizeList2);

      //처음 영상 재생 화질 default값 설정
      if (mvObj.sizeList[0][0].length == 1) {
        qualitySize = 0;
      } else {
        //자동화질 설정
        if (mvObj.sizeList[0][0] == '1') {
          if (!isMob || mvObj.sizeList[0][0].length == 2) {
            //웹 브라우저 화질 default 1280 x 720
            qualitySize = 1;
          } else {
            //모바일 화질 default    484 x 272
            qualitySize = 2;
          }
        }
        //자동화질 미설정
        else {
          if (!isMob) {
            //웹 브라우저 화질 default 1280 x 720
            qualitySize = 0;
          } else {
            //모바일 화질 default    484 x 272
            qualitySize = 1;
          }
        }
      }

      $('#vd-streaming01').createVideo({
        // 플레이어 생성 영역 DIV의 아이디
        id: 'video_1', // 생성될 비디오 태그 아이디 *필수값
        src: mvObj.setVideoSrc[0],
        speed: [0.5, 0.75, 1, 1.25, 1.5], // 배속
        autoPlay: false, // true일 경우 볼륨은 자동으로 음소거로 시작됨
        startTime: 0, //영상 재생 시작 시간(이어보기 기능)
        seeking: true, // false : 현재 재생시간 이후는 seeking 되지 않도록
        progress: false, // false : 프로그레스바 컨트롤 되지 않도록
        preview: [{ enabled: false, src: '' }],
        quality: { default: mvObj.sizeList[0][qualitySize], options: mvObj.sizeList[0] }, // "default" : 0, options : [0]
        qualitySize: qualitySize,
        callback: [
          {
            start: vdStart1, // Player 시작 시 호출할 함수
            pause: clearSet1, // Player 일시정지 시 호출할 함수
          },
        ],
        isBanner: false, //true : 컨트롤바 숨김, false : 컨트롤바 출력, default = false
        iconUrl: '../tgplayer/plugin/js/plyr.svg',
        blankVideo: '../tgplayer/plugin/js/blank.mp4',
      });

      $('#vd-streaming02').createVideo({
        // 플레이어 생성 영역 DIV의 아이디
        id: 'video_2', // 생성될 비디오 태그 아이디 *필수값
        src: mvObj.setVideoSrc[1],
        speed: [0.5, 0.75, 1, 1.25, 1.5], // 배속
        autoPlay: false, // true일 경우 볼륨은 자동으로 음소거로 시작됨
        startTime: 0, //영상 재생 시작 시간(이어보기 기능)
        seeking: true, // false : 현재 재생시간 이후는 seeking 되지 않도록
        progress: false, // false : 프로그레스바 컨트롤 되지 않도록
        preview: [{ enabled: false, src: '' }],
        quality: { default: mvObj.sizeList[1][qualitySize], options: mvObj.sizeList[1] }, // "default" : 0, options : [0]
        qualitySize: qualitySize,
        callback: [
          {
            start: vdStart2, // Player 시작 시 호출할 함수
            pause: clearSet2, // Player 일시정지 시 호출할 함수
          },
        ],
        isBanner: false, //true : 컨트롤바 숨김, false : 컨트롤바 출력, default = false
        iconUrl: '../tgplayer/plugin/js/plyr.svg',
        blankVideo: '../tgplayer/plugin/js/blank.mp4',
      });

      function vdStart1() {
        timeSet[0] = setTimeout(function () {
          $('#video_1').vodPause(); // 재생 시작 30초 후 일시정지
        }, 30000);
      }

      function clearSet1() {
        clearTimeout(timeSet[0]);
      }

      function vdStart2() {
        timeSet[1] = setTimeout(function () {
          $('#video_2').vodPause(); // 재생 시작 30초 후 일시정지
        }, 30000);
      }

      function clearSet2() {
        clearTimeout(timeSet[1]);
      }
    </script>
  </body>
</html>
